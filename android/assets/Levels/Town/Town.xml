<?xml version="1.0" encoding="UTF-8"?>
<Level>
	<Ambient>
		<Red>0.85</Red>
		<Green>1</Green>
		<Blue>0.6</Blue>
		<Alpha>1</Alpha>
		
		<AffectedByDayNight>true</AffectedByDayNight>
	</Ambient>

	<Sound>
		<BGM>Heroic Age</BGM>
		<Ambient />
	</Sound>

	<RoomGenerators />

	<CorridorStyle>
		<PathStyle>Straight</PathStyle>
		<Width>1</Width>

		<CentralConstant>
			<TileData>
				<Passable>true</Passable>
				<Opaque>false</Opaque>
				<Sprite>
					<Name>dc-dngn/floor/dirt0</Name>
				</Sprite>
			</TileData>
		</CentralConstant>
		
		<SideRecurring>
	        <PlacementMode>Alternate</PlacementMode>
	        <Interval>10</Interval>
	        <Name>Torch</Name>
	        <EnvironmentData>
				<Sprite>
					<Name>Steampunk/StreetLamp</Name>
				</Sprite>
				<Passable>false</Passable>
				<Opaque>false</Opaque>
				<Light>
					<Colour>
						<Green>0.8</Green>
						<Red>1</Red>
					</Colour>
					<Intensity>5</Intensity>
					<Flicker>2</Flicker>
					<FlickerPeriod>0.5</FlickerPeriod>
				</Light>
			</EnvironmentData>
	    </SideRecurring>
		
	</CorridorStyle>

	<Preprocessor>
		<Basic />
	</Preprocessor>

	<Factions>
		<Major>
			<Village>1</Village>
		</Major>
		<Minor />

	</Factions>

	<Symbols>

		<Symbol>
			<Char>.</Char>
			<TileData>
				<Opaque>false</Opaque>
				<Passable>true</Passable>
				<Sprite>
					<Name>dc-dngn/floor/grass/grass0</Name>
				</Sprite>
			</TileData>
		</Symbol>
		
		<Symbol>
			<Char>,</Char>
			<TileData>
				<Opaque>false</Opaque>
				<Passable>true</Passable>
				<Sprite>
					<Name>dc-dngn/floor/dirt0</Name>
				</Sprite>
			</TileData>
		</Symbol>

		<Symbol>
			<Char>#</Char>
			<TileData>
				<Opaque>true</Opaque>
				<Passable>false</Passable>
				<Sprite>
					<Name>dc-dngn/floor/grass/grass0</Name>
				</Sprite>
				<Sprite>
					<Name>dc-dngn/wall/tree1_yellow</Name>
					<Colour>
						<Red>0.6</Red>
						<Green>1</Green>
						<Blue>0</Blue>
					</Colour>
				</Sprite>
				<AmbientShadow>
					<Factor>0.2</Factor>
					<Range>2</Range>
				</AmbientShadow>
			</TileData>
		</Symbol>

	</Symbols>

	<Required>
		<Transition>

			<Faction>none</Faction>

			<Symbols>

				<Symbol Extends=".">
					<Char>v</Char>
					<EnvironmentData>
						<Type>Transition</Type>
						<Destination>Forest</Destination>
						<UnloadLevel>false</UnloadLevel>

						<ExitRoom>
							<Faction>none</Faction>

							<Symbols>
								<Symbol Extends=".">
									<Char>^</Char>
									<EnvironmentData>
										<Type>Transition</Type>
										<Destination>this</Destination>
										<UnloadLevel>false</UnloadLevel>
									</EnvironmentData>
								</Symbol>
							</Symbols>

							<Rows>
								<Row>#####</Row>
								<Row>##^##</Row>
								<Row>#.,.#</Row>
								<Row>#,,.#</Row>
								<Row>#,###</Row>
							</Rows>
						</ExitRoom>
					</EnvironmentData>
				</Symbol>
			</Symbols>
			
			<Orientation>Centre</Orientation>

			<Rows>
				<Row>#####</Row>
				<Row>##v##</Row>
				<Row>#,,##</Row>
				<Row>#,###</Row>
			</Rows>

		</Transition>
		
		<Home>
		    
		    <Faction>none</Faction>

			<Symbols>

				<Symbol>
					<Char>H</Char>
					<TileData>
						<Opaque>true</Opaque>
						<Passable>false</Passable>
						<RaisedSprite>
						    <Name>StoneWall</Name>
						    
						    <Front>
						        <Name>Level/stone_wall_front</Name>
						    </Front>
						    
						    <Top>
						        <Name>Level/stone_wall_top</Name>
						    </Top>
						</RaisedSprite>
						<AmbientShadow>
							<Factor>0.1</Factor>
							<Range>1</Range>
						</AmbientShadow>
					</TileData>
				</Symbol>

				<Symbol>
					<Char>,</Char>
					<TileData>
						<Opaque>false</Opaque>
						<Passable>true</Passable>
						<CanFeature>false</CanFeature>
						<Sprite>
							<Name>Objects/WoodFloor</Name>
						</Sprite>
					</TileData>
				</Symbol>

				<Symbol Extends=",">
					<Char>^</Char>
					<EnvironmentData>
						<Type>Transition</Type>
						<Destination>this</Destination>
					</EnvironmentData>
				</Symbol>

				<Symbol Extends=",">
					<Char>c</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Chair</Name>
						</Sprite>
						<Passable>true</Passable>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends="c">
					<Char>C</Char>
					<EntityData>NPC/Daniel</EntityData>
				</Symbol>

				<Symbol Extends=",">
					<Char>T</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Table</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>b</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Bed</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>s</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Bookshelf</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>p</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Pot</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>m</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Steampunk/MetalPlate</Name>
						</Sprite>
						<Passable>true</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>v</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Steampunk/Vat</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends="m">
					<Char>S</Char>
					
				</Symbol>

				<Symbol Extends=",">
					<Char>+</Char>
					<EnvironmentData>
						<Type>Door</Type>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>t</Char>
					<EnvironmentData>
			            <AttachToWall>true</AttachToWall>
			            <OverHead>true</OverHead>
						<Sprite>
							<Name>torch</Name>
						</Sprite>
						<Passable>true</Passable>
						<Light>
							<Colour>
								<Green>0.8</Green>
								<Red>1</Red>
							</Colour>
							<Intensity>5</Intensity>
							<Flicker>2</Flicker>
							<FlickerPeriod>0.5</FlickerPeriod>
						</Light>
					</EnvironmentData>
				</Symbol>

				<Symbol>
					<Char>w</Char>
					<TileData>
						<RaisedSprite>
						    <Name>StoneWall</Name>
						    
						    <Front>
						        <Name>Objects/WoodFloor</Name>
						    </Front>
						    
						    <Top>
						        <Name>Objects/WoodFloor</Name>
						    </Top>
						</RaisedSprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</TileData>
					<EnvironmentData>
						<Sprite>
							<Name>dc-dngn/wall/dngn_transparent_wall</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>

			</Symbols>

			<Orientation>Centre</Orientation>

			<Rows>Levels/Town/HomeGround</Rows>
		</Home>
		
		<Test>
		    
		    <Faction>none</Faction>
		    
		    <Symbols>
		        <Symbol Extends=".">
		            <Char>k</Char>
		            <EntityData>Enemies/Kitsune</EntityData>
		        </Symbol>
		        <Symbol Extends=".">
		            <Char>S</Char>
		            <MetaValue>PlayerSpawn</MetaValue>
		        </Symbol>
		        
		        
		    </Symbols>
		    
		    <Rows>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>....S..........</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>.......k.......</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		        <Row>...............</Row>
		    </Rows>
		</Test>

	</Required>

	<Optional>

		<Tavern>

			<Symbols>

				<Symbol>
					<Char>H</Char>
					<TileData>
						<Opaque>true</Opaque>
						<Passable>false</Passable>
						<RaisedSprite>
						    <Name>StoneWall</Name>
						    
						    <Front>
						        <Name>Level/stone_wall_front</Name>
						    </Front>
						    
						    <Top>
						        <Name>Level/stone_wall_top</Name>
						    </Top>
						</RaisedSprite>
						<AmbientShadow>
							<Factor>0.1</Factor>
							<Range>1</Range>
						</AmbientShadow>
					</TileData>
				</Symbol>

				<Symbol>
					<Char>,</Char>
					<TileData>
						<Opaque>false</Opaque>
						<Passable>true</Passable>
						<CanFeature>false</CanFeature>
						<Sprite>
							<Name>Objects/WoodFloor</Name>
						</Sprite>
					</TileData>
				</Symbol>

				<Symbol Extends=",">
					<Char>^</Char>
					<EnvironmentData>
						<Type>Transition</Type>
						<Destination>this</Destination>
					</EnvironmentData>
				</Symbol>

				<Symbol Extends=",">
					<Char>c</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Chair</Name>
						</Sprite>
						<Passable>true</Passable>
					</EnvironmentData>
				</Symbol>

				<Symbol Extends=",">
					<Char>T</Char>
					<EnvironmentData>
						<Sprite>
							<Name>Objects/Table</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>

				<Symbol Extends=",">
					<Char>I</Char>
					<EnvironmentData>
					    <MatchRoomRotation>true</MatchRoomRotation>
						<Sprite>
							<Name>Objects/Counter</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>

				<Symbol Extends=",">
					<Char>+</Char>
					<EnvironmentData>
						<Type>Door</Type>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends=",">
					<Char>t</Char>
					<EnvironmentData>
			            <AttachToWall>true</AttachToWall>
			            <OverHead>true</OverHead>
						<Sprite>
							<Name>torch</Name>
						</Sprite>
						<Passable>true</Passable>
						<Light>
							<Colour>
								<Green>0.8</Green>
								<Red>1</Red>
							</Colour>
							<Intensity>5</Intensity>
							<Flicker>2</Flicker>
							<FlickerPeriod>0.5</FlickerPeriod>
						</Light>
					</EnvironmentData>
				</Symbol>

				<Symbol>
					<Char>w</Char>
					<TileData>
						<RaisedSprite>
						    <Name>StoneWall</Name>
						    
						    <Front>
						        <Name>Objects/WoodFloor</Name>
						    </Front>
						    
						    <Top>
						        <Name>Objects/WoodFloor</Name>
						    </Top>
						</RaisedSprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</TileData>
					<EnvironmentData>
						<Sprite>
							<Name>dc-dngn/wall/dngn_transparent_wall</Name>
						</Sprite>
						<Passable>false</Passable>
						<Opaque>false</Opaque>
					</EnvironmentData>
				</Symbol>
				
				<Symbol Extends="c">
				    <Char>d</Char>
				    <EntityData>NPC/Village/Drunkard</EntityData>
				</Symbol>

			</Symbols>

			<Orientation>Edge</Orientation>

			<Rows>Levels/Town/TavernGround</Rows>
		</Tavern>

	</Optional>

</Level>